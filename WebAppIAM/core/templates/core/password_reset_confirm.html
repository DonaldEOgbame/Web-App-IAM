<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Set New Password</title>
    <style>
        body {font-family: Arial, sans-serif; background:#f0f2f5; display:flex; align-items:center; justify-content:center; height:100vh;}
        .reset-box {background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 4px rgba(0,0,0,0.1); width:300px;}
        h2 {margin-top:0;}
        .form-group {margin-bottom:15px;}
        label {display:block; margin-bottom:5px;}
        input {width:100%; padding:8px; box-sizing:border-box;}
        .error {color:#b00020; font-size:0.9em;}
        button {width:100%; padding:10px; background:#007bff; color:#fff; border:none; border-radius:4px;}
        .link {text-align:center; margin-top:10px;}
    </style>
</head>
<body>
<div class="reset-box">
    <h2>Set New Password</h2>
    <form method="post" id="confirm-form" novalidate>
        {% csrf_token %}
        {% if form.non_field_errors %}
            <div class="error">{{ form.non_field_errors|striptags }}</div>
        {% endif %}
        <div class="form-group">
            {{ form.password1.label_tag }}
            {{ form.password1 }}
            {% if form.password1.errors %}
                <div class="error">{{ form.password1.errors|striptags }}</div>
            {% endif %}
        </div>
        <div class="form-group">
            {{ form.password2.label_tag }}
            {{ form.password2 }}
            {% if form.password2.errors %}
                <div class="error">{{ form.password2.errors|striptags }}</div>
            {% endif %}
        </div>
        <button type="submit" id="confirm-btn">Reset Password</button>
    </form>
    <div class="link"><a href="{% url 'core:login' %}">Back to login</a></div>
</div>
<script>
document.getElementById('confirm-form').addEventListener('submit', function(e) {
    var p1 = document.querySelector('input[name="password1"]');
    var p2 = document.querySelector('input[name="password2"]');
    if(p1.value !== p2.value) {
        e.preventDefault();
        alert('Passwords do not match.');
    }
});
</script>
</body>
</html>
